= semantic_form_for @user do |f|
  = hidden_field_tag :group_id ,params[:group_id]
  = f.input :login, :label => '用户名', :hint =>'用户名是您在网站上公开的唯一ID，用来将您和其他用户区分。只能使用英文字母、数字、下划线和减号，3到16个字符之间', :required => true,:input_html => { :class => 'need_verify',:check_area=>"login"}
  
  = f.input :email, :label => '电子邮箱', :hint => '仅用来与您联系, 绝不公开', :required => true,:input_html => { :class => 'need_verify',:check_area=>"email"}
  = f.input :password, :label => '密码', :required => true
  = f.input :password_confirmation, :label => '重复密码', :required => true
  = f.buttons do
    = f.commit_button '注册', :disable_with => "正在注册..."

:javascript
$(window).load(function(){
    $('.need_verify').change(function(){
    var myself = $(this);
    myself.next(".inline-errors").remove();
        $.ajax({
            type: 'POST',
            url: 'users/check',
            data: {
                "check_area": myself.val(),
                "check_name": myself.attr("check_area")
                },
            success: function(data){
                if (data.error_message){
                    $("<p class='inline-errors'>"+data.error_message+"</p>").insertAfter(myself);
                }
            },
            dataType: "json"
        });
    });
});
